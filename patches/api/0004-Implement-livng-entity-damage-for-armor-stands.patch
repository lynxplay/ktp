From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Bjarne Koll <lynxplay101@gmail.com>
Date: Sun, 10 Jan 2021 20:40:41 +0100
Subject: [PATCH] Implement livng entity damage for armor stands

As some armor stands may want to handle damage normally instead of
changing damage from certain damage types like fire, this commit allows
armor stands to use the EntityLiving damage method instead of its own
implementation.

diff --git a/src/main/java/org/bukkit/entity/ArmorStand.java b/src/main/java/org/bukkit/entity/ArmorStand.java
index af70bac7921852b58629d671fe03ad0e23be9266..da5d50f9dee60d458dba4765fde6d370020d3687 100644
--- a/src/main/java/org/bukkit/entity/ArmorStand.java
+++ b/src/main/java/org/bukkit/entity/ArmorStand.java
@@ -392,4 +392,31 @@ public interface ArmorStand extends LivingEntity {
      */
     boolean isSlotDisabled(@NotNull org.bukkit.inventory.EquipmentSlot slot);
     // Paper end
+    // ktp start
+
+    /**
+     * Updates the armor stand setting to handle damage like a normal living entity.
+     * Marking an armor stand to handle damage like a living entity will remove the armor stand specific damage
+     * exceptions such as stronger fire damage or explosions instantly killing the armor stand.
+     * <p>
+     * This setting is useful for armor stands that do represent a different type of entity than an armor stand and
+     * should therefore comply to the default damage behaviour.
+     *
+     * @param flag the boolean flag value defining whether or not the armor stand should take damage like a normal
+     *             entity. The default minecraft value is 'false' while 'true' would enable the custom damage handling.
+     */
+    void setShouldDamageLikeLivingEntity(boolean flag);
+
+    /**
+     * Returns whether or not the armor stand is currently handling damage like a normal entity or like a vanilla armor
+     * stand.
+     * Armor stands that handle damage like normal entities will not run the custom damage implementations that vanilla
+     * armor stands usually use.
+     *
+     * @return the boolean representing if the armor stand is currently handling damage like a living entity. A default
+     * minecraft armor stand would return 'false' as it is using vanillas armor stand damage implementation while 'true'
+     * indicates that the armor stand is using the vanilla living entity damage implementation.
+     */
+    boolean doesDamageLikeLivingEntity();
+    // ktp end
 }
